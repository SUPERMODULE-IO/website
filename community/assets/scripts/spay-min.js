import{ethers as e}from"https://cdnjs.cloudflare.com/ajax/libs/ethers/6.3.0/ethers.js";export async function pay(t,a,i,s,r){var c=!0;let n=document.getElementById("spay_button");n.disabled=!0,n.value="Processing...";try{let l=await import("https://cdn.jsdelivr.net/gh/SUPERMODULE-IO/website@v1.1-beta/community/assets/scripts/spay_"+i+"_"+s+"_"+r+"-min.js");if("eth"==i?await switchToEthereum():"matic"==i?await switchToMatic():c=!1,c){let o=await new e.BrowserProvider(window.ethereum),h=await o.getSigner(),m=await new e.Contract(l.TOKEN_ADDRESS(),l.ABI(),h);await m.transfer(a,e.parseUnits(t,l.DECIMAL())).then(e=>{console.dir("RESULT::"+e),alert("Payment Initiated"),e.wait(),then(e=>{alert("Payment Successful")}).catch(e=>alert("ERROR::"+e.reason))}).catch(e=>alert(e.reason)),n.disabled=!1,n.value="Pay"}else alert("Payment Module Error"),n.disabled=!1,n.value="Pay"}catch(d){alert("Invalid module:"+d),n.disabled=!1,n.value="Pay"}}let switchToEthereum=async()=>{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]})},switchToMatic=async()=>{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x89",rpcUrls:["https://polygon-rpc.com/"],chainName:"Matic Mainnet",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://explorer.matic.network"]}]})};